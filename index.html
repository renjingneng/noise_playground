<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>noise playground</title>
    <link type="text/css" href="style.css" rel="stylesheet" />
    <script src="res/jquery.js"></script>
</head>

<body>

    <div class="panel">
        <div class="panel_element">
            <button id="button_generate">generate</button>
        </div>
        <div class="panel_element">
            <button id="button_download">download</button>
        </div>
    </div>
    <div class="display">
        <canvas id="canvas" width="300" height="400"></canvas>
    </div>

    <script type="module">
        "use strict";
        import { WhiteNoise, WorleyNoise } from './src/noise.js';
        import { Manager } from './src/manager.js';


        var canvas = document.getElementById("canvas");
        var manager = new Manager(canvas);

        var canvas_info = {
            width: canvas.width,
            height: canvas.height,
            variant_no: 3
        };
        //white_noise
        var white_noise = new WhiteNoise(canvas_info);

        //worley_noise
        var params = {
            points_shape: [2, 3],
            threshold_range: [0, 0.7],
            steps: 14
        };
        var worley_noise = new WorleyNoise(canvas_info,params);

        manager.set_maker(worley_noise);

        $('#button_generate').click(function () {
            var finish_callback = function () {
                alert('finished!');
            };
            manager.generate(finish_callback);
        });

        $('#button_download').click(function () {
            manager.download_file('noise_playground');
        });
    </script>

</body>

</html>